<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.hkit.pms.mapper.human.HumanInfoMgtMapper">
	<select id="selectInfo" resultType="kr.hkit.pms.domain.human.HumanInfoMgtDto">
		select * from tb_mbr
	</select>
	
	<select id="readList" resultType="kr.hkit.pms.domain.human.HumanInfoMgtDto">
		<![CDATA[
		select 
			idx, mbr_sn, mbr_nm, mbr_phone, mbr_em, mbr_addr_bx, mbr_addr_dtl, 
			mbr_addr_post, mbr_dep_cd, mbr_hired_d, mbr_id, mbr_pw, mbr_cls_cd 
		from (
			select  
				rownum rn, idx, mbr_sn, mbr_nm, mbr_phone, mbr_em, mbr_addr_bx, mbr_addr_dtl, 
				mbr_addr_post, mbr_dep_cd, mbr_hired_d, mbr_id, mbr_pw, mbr_cls_cd
			from 
				tb_mbr
			where rownum <= (#{pageNum, jdbcType=NUMERIC} * #{amount, jdbcType=NUMERIC})
		) where rn > (#{pageNum, jdbcType=NUMERIC}-1) * #{amount, jdbcType=NUMERIC}
		]]>
	</select>
	
	<insert id='create'>
		insert into tb_mbr (
						    idx, mbr_sn, mbr_nm, 
						    mbr_tel, mbr_phone, mbr_em,
						    mbr_addr_bx, mbr_addr_dtl, mbr_addr_post,
						    mbr_dep_cd, mbr_hired_d,
						    mbr_id, mbr_pw, mbr_cls_cd,
						    spare1, spare2, spare3, spare4,
						    rgtr_id, rgtr_dt, mdfr_id, mdfr_dt) 
						    values 
					    (seq_mbr_idx.nextval, #{mbr_sn}, #{mbr_nm},
					    #{mbr_tel, jdbcType=VARCHAR}, #{mbr_phone}, #{mbr_em, jdbcType=VARCHAR}, 
					    #{mbr_addr_bx}, #{mbr_addr_dtl, jdbcType=VARCHAR}, #{mbr_addr_post},
					    #{mbr_dep_cd, jdbcType=VARCHAR}, #{mbr_hired_d, jdbcType=DATE}, 
					    #{mbr_id}, #{mbr_pw}, #{mbr_cls_cd, jdbcType=VARCHAR},
					    #{spare1, jdbcType=VARCHAR}, #{spare2, jdbcType=VARCHAR}, #{spare3, jdbcType=VARCHAR}, #{spare4, jdbcType=VARCHAR},
					    #{rgtr_id, jdbcType=VARCHAR}, #{rgtr_dt, jdbcType=DATE}, #{mdfr_id, jdbcType=VARCHAR}, #{mdfr_dt, jdbcType=DATE})
	</insert>
	
</mapper>